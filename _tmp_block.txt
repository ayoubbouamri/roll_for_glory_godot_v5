func _on_avatar_clicked(av):
	if phase != Phase.SELECT_TARGETS:
		return
	match pending_action:
		"KILL":
			if av.data.team == current_team: return
			if not av.data.alive: return
			status_label.text = "KILL → %s" % av.data.name
			_play_kill(av)
			pending_kill_targets -= 1
			if pending_kill_targets <= 0:
				_end_turn()
		"DOUBLE":
			if av.data.team == current_team: return
			if not av.data.alive: return
			status_label.text = "DOUBLE-KILL → %s" % av.data.name
			_play_kill(av)
			pending_kill_targets -= 1
			if pending_kill_targets <= 0:
				_end_turn()
		"REVIVE":
			if av.data.team != current_team: return
			if av.data.alive: return
			status_label.text = "REVIVE → %s" % av.data.name
			_play_revive(av)
			_consume_heart(current_team)
			_end_turn()

